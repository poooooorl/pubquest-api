# Quest System Architecture Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ğŸ® QUEST SYSTEM                               â”‚
â”‚                     Data-Driven Architecture                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. QUEST DEFINITIONS (Static Data - Templates)                     â”‚
â”‚     ğŸ“ quest.templates.ts                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  QUEST_TEMPLATES = {                                                 â”‚
â”‚    FIRST_STEPS: {                                                    â”‚
â”‚      id: 1,                                                          â”‚
â”‚      title: "First Steps",                                           â”‚
â”‚      prerequisites: { minLevel: 1 },                                 â”‚
â”‚      objectives: [                                                   â”‚
â”‚        { type: "LOCATION", target: "CAT:PUB", count: 1 }            â”‚
â”‚      ],                                                              â”‚
â”‚      rewards: { xp: 100, gold: 10 }                                 â”‚
â”‚    }                                                                 â”‚
â”‚  }                                                                   â”‚
â”‚                                                                      â”‚
â”‚  âœ… Non-programmers can create quests                               â”‚
â”‚  âœ… Easy to localize                                                â”‚
â”‚  âœ… Version control friendly                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. QUEST STATE MACHINE (Lifecycle)                                 â”‚
â”‚     ğŸ“ quest.engine.ts                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  [LOCKED] â”€â”€prerequisites metâ”€â”€> [AVAILABLE] â”€â”€acceptâ”€â”€> [ACTIVE]   â”‚
â”‚                                       â—                              â”‚
â”‚                                                                      â”‚
â”‚  [ACTIVE] â”€â”€all objectives doneâ”€â”€> [READY] â”€â”€turn inâ”€â”€> [COMPLETED] â”‚
â”‚                                       â“            ğŸ†               â”‚
â”‚                                                                      â”‚
â”‚  âœ… Clear quest lifecycle                                           â”‚
â”‚  âœ… Visual NPC indicators                                           â”‚
â”‚  âœ… Prevents invalid transitions                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. OBJECTIVE HANDLERS (Event Processing)                           â”‚
â”‚     ğŸ“ quest.handlers.ts                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚  â”‚ GAME EVENT   â”‚         â”‚  OBJECTIVE   â”‚                         â”‚
â”‚  â”‚ (Check-in)   â”‚â”€â”€â”€â”€â”€â”€â”€â”€>â”‚   HANDLER    â”‚                         â”‚
â”‚  â”‚ User â†’ Pub   â”‚         â”‚  Evaluates   â”‚                         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚                                  â”‚                                  â”‚
â”‚                                  â–¼                                  â”‚
â”‚                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚                       â”‚ Progress Updated â”‚                         â”‚
â”‚                       â”‚   [2/3] Pubs     â”‚                         â”‚
â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚                                                                      â”‚
â”‚  âœ… Observer Pattern (no polling)                                   â”‚
â”‚  âœ… Incremental tracking (3/5 rats killed)                         â”‚
â”‚  âœ… Extensible (easy to add new types)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. DIALOGUE SYSTEM (Conversation Graphs)                           â”‚
â”‚     ğŸ“ dialogue.engine.ts                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  [Root Node] "Hey stranger!"                                        â”‚
â”‚      â”‚                                                              â”‚
â”‚      â”œâ”€> [Choice 1] "Tell me about quests"                         â”‚
â”‚      â”‚       â”‚                                                      â”‚
â”‚      â”‚       â””â”€> [NPC] "I need help finding..."                    â”‚
â”‚      â”‚              â”‚                                               â”‚
â”‚      â”‚              â”œâ”€> [Choice] "I'll do it!" [ACCEPT_QUEST]      â”‚
â”‚      â”‚              â””â”€> [Choice] "Maybe later"  [END]              â”‚
â”‚      â”‚                                                              â”‚
â”‚      â””â”€> [Choice 2] "Just passing through" [END]                   â”‚
â”‚                                                                      â”‚
â”‚  Conditional Display:                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚ if quest.status == "AVAILABLE"         â”‚                        â”‚
â”‚  â”‚   show: "Want to help me?"             â”‚                        â”‚
â”‚  â”‚ if quest.status == "ACTIVE"            â”‚                        â”‚
â”‚  â”‚   show: "How's it going?"              â”‚                        â”‚
â”‚  â”‚ if quest.status == "READY"             â”‚                        â”‚
â”‚  â”‚   show: "Did you find it?"             â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                                                      â”‚
â”‚  âœ… Branching conversations                                         â”‚
â”‚  âœ… Conditional node display                                        â”‚
â”‚  âœ… Automatic action execution                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. DATABASE SCHEMA (Persistence)                                   â”‚
â”‚     ğŸ“ migrations/002_quest_system_enhancements.sql                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚     quests      â”‚        â”‚  quest_objectives    â”‚              â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚
â”‚  â”‚ id              â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”‚ quest_id             â”‚              â”‚
â”‚  â”‚ title           â”‚        â”‚ type (LOCATION/SPEND)â”‚              â”‚
â”‚  â”‚ description     â”‚        â”‚ target_value         â”‚              â”‚
â”‚  â”‚ prerequisites   â”‚        â”‚ target_count         â”‚              â”‚
â”‚  â”‚ reward_xp       â”‚        â”‚ reward_xp            â”‚              â”‚
â”‚  â”‚ reward_gold     â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚  â”‚ category        â”‚                   â–²                           â”‚
â”‚  â”‚ is_repeatable   â”‚                   â”‚                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚                           â”‚
â”‚         â–²                              â”‚                           â”‚
â”‚         â”‚                              â”‚                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  user_quests     â”‚    â”‚ user_objective_progress     â”‚          â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚
â”‚  â”‚ user_id          â”‚    â”‚ user_id                     â”‚          â”‚
â”‚  â”‚ quest_id         â”‚    â”‚ objective_id                â”‚          â”‚
â”‚  â”‚ status           â”‚    â”‚ current_progress (3/5)      â”‚          â”‚
â”‚  â”‚ accepted_at      â”‚    â”‚ is_completed                â”‚          â”‚
â”‚  â”‚ completed_at     â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚  â”‚ completion_count â”‚                                              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                              â”‚
â”‚                                                                      â”‚
â”‚  âœ… Separates templates from player progress                       â”‚
â”‚  âœ… Tracks incremental progress                                    â”‚
â”‚  âœ… Supports repeatable quests                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¯ EXAMPLE FLOW: "Visit 3 Pubs" Quest                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  1ï¸âƒ£  User Level 2 â†’ getAvailableQuests()                           â”‚
â”‚     âœ… "Visit 3 Pubs" (Level 1 required)                            â”‚
â”‚     âŒ "Weekly Challenge" (Level 5 required)                        â”‚
â”‚                                                                      â”‚
â”‚  2ï¸âƒ£  User talks to NPC â†’ startConversation(npcId)                  â”‚
â”‚     NPC: "Want to visit some pubs?"                                â”‚
â”‚     Choices: ["Accept", "Decline"]                                 â”‚
â”‚                                                                      â”‚
â”‚  3ï¸âƒ£  User accepts â†’ selectChoice(acceptNodeId)                     â”‚
â”‚     Action: ACCEPT_QUEST                                           â”‚
â”‚     Status: AVAILABLE â†’ ACTIVE                                      â”‚
â”‚                                                                      â”‚
â”‚  4ï¸âƒ£  User checks into Pub #1 â†’ processEvent(LOCATION)              â”‚
â”‚     Handler: handleLocationObjective()                             â”‚
â”‚     Progress: 0 â†’ 1 (1/3)                                          â”‚
â”‚                                                                      â”‚
â”‚  5ï¸âƒ£  User checks into Pub #2 â†’ processEvent(LOCATION)              â”‚
â”‚     Progress: 1 â†’ 2 (2/3)                                          â”‚
â”‚                                                                      â”‚
â”‚  6ï¸âƒ£  User checks into Pub #3 â†’ processEvent(LOCATION)              â”‚
â”‚     Progress: 2 â†’ 3 (3/3) âœ…                                       â”‚
â”‚     Status: ACTIVE â†’ READY                                          â”‚
â”‚                                                                      â”‚
â”‚  7ï¸âƒ£  User returns to NPC â†’ startConversation(npcId)                â”‚
â”‚     NPC: "You did it! Here's your reward." (Different dialogue!)   â”‚
â”‚                                                                      â”‚
â”‚  8ï¸âƒ£  User claims reward â†’ selectChoice(turnInNodeId)               â”‚
â”‚     Action: COMPLETE_QUEST                                         â”‚
â”‚     Rewards: +200 XP, +50 Gold                                     â”‚
â”‚     Status: READY â†’ COMPLETED                                       â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š BENEFITS vs. HARDCODED QUESTS                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  âŒ Old Way (Hardcoded):                                            â”‚
â”‚  if (user.checkedInPubs.length >= 3) {                             â”‚
â”‚    completeQuest("visit_3_pubs");                                  â”‚
â”‚  }                                                                  â”‚
â”‚                                                                      â”‚
â”‚  Problems:                                                          â”‚
â”‚  â€¢ Quest logic in code (programmers required)                      â”‚
â”‚  â€¢ Hard to change requirements                                     â”‚
â”‚  â€¢ Can't track partial progress                                    â”‚
â”‚  â€¢ No prerequisites support                                        â”‚
â”‚                                                                      â”‚
â”‚  âœ… New Way (Data-Driven):                                          â”‚
â”‚  {                                                                  â”‚
â”‚    type: "LOCATION",                                               â”‚
â”‚    target_value: "CAT:PUB",                                        â”‚
â”‚    target_count: 3                                                 â”‚
â”‚  }                                                                  â”‚
â”‚                                                                      â”‚
â”‚  Benefits:                                                          â”‚
â”‚  â€¢ Non-programmers create quests                                   â”‚
â”‚  â€¢ Easy to modify (change JSON, not code)                          â”‚
â”‚  â€¢ Automatic progress tracking (1/3, 2/3, 3/3)                    â”‚
â”‚  â€¢ Built-in prerequisites                                          â”‚
â”‚  â€¢ Scales from simple to complex                                   â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸš€ WHAT YOU CAN BUILD NOW                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  âœ… Tutorial Quests - "Visit your first pub"                       â”‚
â”‚  âœ… Daily Quests - "Visit 3 pubs today"                            â”‚
â”‚  âœ… Weekly Challenges - "Spend 2000 gold this week"                â”‚
â”‚  âœ… Quest Chains - Quest B unlocks after Quest A                   â”‚
â”‚  âœ… Story Arcs - Multi-objective epic quests                       â”‚
â”‚  âœ… Level Gates - "Required Level 5"                               â”‚
â”‚  âœ… Repeatable Quests - "Can repeat every 24 hours"                â”‚
â”‚  âœ… Progressive Dialogue - NPC dialogue changes with quest state    â”‚
â”‚  âœ… Branching Conversations - Player choices matter                 â”‚
â”‚  âœ… Quest Rewards - XP, Gold, Items (future)                       â”‚
â”‚                                                                      â”‚
â”‚  ğŸ® This is the EXACT architecture used in:                         â”‚
â”‚     â€¢ World of Warcraft                                            â”‚
â”‚     â€¢ Skyrim                                                       â”‚
â”‚     â€¢ The Witcher 3                                                â”‚
â”‚     â€¢ Dragon Age                                                   â”‚
â”‚     â€¢ Mass Effect                                                  â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“š Documentation Files

1. **QUEST_SYSTEM_SUMMARY.md** - Quick overview and usage
2. **QUEST_SYSTEM_GUIDE.md** - Comprehensive implementation guide
3. **QUEST_QUICKSTART.md** - Step-by-step checklist
4. **THIS FILE** - Visual architecture overview

## ğŸ¯ Next Step

Run the database migration:

```bash
cd pubquest-backend
docker exec -i pubquest_db psql -U evo -d pubquest < src/db/migrations/002_quest_system_enhancements.sql
```

Then read **QUEST_QUICKSTART.md** for API route examples! ğŸš€
